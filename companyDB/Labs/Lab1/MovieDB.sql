-- Disable NO_AUTO_VALUE_ON_ZERO mode and set time_zone to +00:00

SET SQL_MODE = "NO_AUTO_VALUE_ON_ZERO";
SET time_zone = "+00:00";

-- Create tables for DB
DROP TABLE IF EXISTS actor;
CREATE TABLE actor (
  aID int(11) NOT NULL PRIMARY KEY,
  fName varchar(50),
  surname varchar(50),
  nationality varchar(50),
  gender varchar(50)
);

DROP TABLE IF EXISTS director;
CREATE TABLE director (
  dID int(11) NOT NULL PRIMARY KEY,
  dfName varchar(50),
  dSurname varchar(50)
);


DROP TABLE IF EXISTS movie;
CREATE TABLE movie (
  mID int(11) NOT NULL PRIMARY KEY,
  title varchar(100),
  relYear year,
  category varchar(5),
  runTime int(5),
  studioName varchar(100),
  description varchar(500),
  rating decimal(4,2)
);


DROP TABLE IF EXISTS genres;
CREATE TABLE genres (
  movieID int(11) NOT NULL,
  genre varchar(50) NOT NULL,
  CONSTRAINT pk_genres PRIMARY KEY (movieID, genre),
  CONSTRAINT fk_movGenre_movie FOREIGN KEY (movieID) REFERENCES movie (mID)
);


DROP TABLE IF EXISTS stars;
CREATE TABLE stars (
  movieID int(11) NOT NULL,
  actorID int(11) NOT NULL,
  CONSTRAINT pk_stars PRIMARY KEY (movieID, actorID),
  CONSTRAINT fk_stars_actor FOREIGN KEY (actorID) REFERENCES actor (aID),
  CONSTRAINT fk_stars_movie FOREIGN KEY (movieID) REFERENCES movie (mID)
);


DROP TABLE IF EXISTS directs;
CREATE TABLE directs (
  movieID int(11) NOT NULL,
  directorID int(11) NOT NULL,
  CONSTRAINT pk_directs PRIMARY KEY (movieID, directorID),
  CONSTRAINT fk_directs_movieID FOREIGN KEY (movieID) REFERENCES movie (mID),
  CONSTRAINT fk_directs_directorID FOREIGN KEY (directorID) REFERENCES director (dID)
);


-- Insert data into the created tables
INSERT INTO movie VALUES
(1,'Three Billboards outside Ebbing, Missouri', 2018, '15', 115,'', 'A mother personally challenges the local authorities to solve her daughter''s murder when they fail to catch the culprit.',8.2),
(2,'Psycho',1960, 'X', 109,'Universal', 'A Phoenix secretary embezzles forty thousand dollars from her employer''s client, goes on the run, and checks into a remote motel run by a young man under the domination of his mother.',8.6),
(3,'12 Angry Men',1957,'U', 96,'MGM/UA', 'A jury holdout attempts to prevent a miscarriage of justice by forcing his colleagues to reconsider the evidence.',8.9),
(4,'Misery',1990, '18', 107,'MGM/UA','After a famous author is rescued from a car crash by a fan of his novels, he comes to realize that the care he is receiving is only the beginning of a nightmare of captivity and abuse.',7.8),
(5, 'A Star is Born', 2018, '15', 136, 'Warner Bros', 'A musician helps a young singer find fame as age and alcoholism send his own career into a downward spiral.',7.7),
(6,'Fargo',1996, '15',98,'MGM/UA','Various chronicles of deception, intrigue and murder in and around frozen Minnesota. Yet all of these tales mysteriously lead back one way or another to Fargo, North Dakota.',8.2),
(7, 'Reservoir Dogs', 1992, '18', 99, '', 'When a simple jewelry heist goes horribly wrong, the surviving criminals begin to suspect that one of them is a police informant.',8.4),
(8, 'Black Panther', 2018, '12A', 134,'Marvel', 'T''Challa, heir to the hidden but advanced kingdom of Wakanda, must step forward to lead his people into a new future and must confront a challenger from his country''s past.',8.5),
(9, 'Avengers Endgame', 2019, '12A', 181, 'Marvel', 'After the devastating events of Avengers: Infinity War (2018), the universe is in ruins. With the help of remaining allies, the Avengers assemble once more in order to reverse Thanos'' actions and restore balance to the universe.',8.6),
(10, 'Avengers: Infinity War', 2018, '12A', 149, 'Marvel', 'The Avengers and their allies must be willing to sacrifice all in an attempt to defeat the powerful Thanos before his blitz of devastation and ruin puts an end to the universe.',8.5),
(11, 'Roma', 2018, '15', 135, '', 'A year in the life of a middle-class family''s maid in Mexico City in the early 1970s.',7.8),
(12, 'Once Upon A Time in Hollywood', 2019, '18', 161,'Columbia', 'A faded television actor and his stunt double strive to achieve fame and success in the film industry during the final years of Hollywood''s Golden Age in 1969 Los Angeles.',8),
(13, 'Pulp Fiction', 1994, '18', 154, 'Miramax', 'The lives of two mob hitmen, a boxer, a gangster and his wife, and a pair of diner bandits intertwine in four tales of violence and redemption.',8.9),
(14, 'Get Out', 2017, '15', 104, 'Universal', 'A young African-American visits his white girlfriend''s parents for the weekend, where his simmering uneasiness about their reception of him eventually reaches a boiling point.', 7.7),
(15, 'Marriage Story', 2019, '15', 137, 'Netflix', 'Noah Baumbach''s incisive and compassionate look at a marriage breaking up and a family staying together.', 8.0),
(16, 'Parasite', 2019, '15', 132, 'Curzon', 'Greed and class discrimination threaten the newly formed symbiotic relationship between the wealthy Park family and the destitute Kim clan.', 8.6),
(17, 'Joker', 2019, '15', 122, '', 'Arthur Fleck works as a clown and is an aspiring stand-up comic. He has mental health issues, part of which involves uncontrollable laughter. Times are tough and, due to his issues and occupation, Arthur has an even worse time than most. Over time these issues bear down on him, shaping his actions, making him ultimately take on the persona he is more known as...Joker.', 8.5),
(18, 'Little Women', 2019, 'U', 135, 'Columbia Pictures', 'Jo March reflects back and forth on her life, telling the beloved story of the March sisters - four young women, each determined to live life on her own terms.', 7.8),
(19, 'The Irishman', 2019, '15' , 209, 'Tribeca Productions', 'An old man recalls his time painting houses for his friend, Jimmy Hoffa, through the 1950-70s.', 7.9),
(20, 'Lady Bird', 2017, '15A', 94, ' ', 'Christine ''Lady Bird'' McPherson (Saoirse Ronan) is a high school senior from the ''wrong side of the tracks''. She longs for adventure, sophistication, and opportunity, but finds none of that in her Sacramento Catholic high school. This movie follows the title character''s senior year in high school, including her first romance, her participation in the school play, and most importantly, her applying for college.', 7.4),
(21, 'Call me by your name', 2017, '15A', 132, ' ' , 'In 1980s Italy, romance blossoms between a seventeen-year-old student and the older man hired as his father''s research assistant.', 7.8),
(22, 'Top Gun Maverick', 2022 , 'PG-13', 131, 'Paramount Pictures', 'After more than thirty years of service as one of the Navy''s top aviators, Pete Mitchell is where he belongs, pushing the envelope as a courageous test pilot and dodging the advancement in rank that would ground him.', 8.4),
(23, 'Belfast', 2021, 'PG-13', 98, ' ' , 'A young boy and his working-class Belfast family experience the tumultuous late 1960s.', 7.3),
(24, 'Don''t Look Up', 2021, 'R', 138, ' ',  'Two low-level astronomers must go on a giant media tour to warn humankind of an approaching comet that will destroy planet Earth.', 7.2), 
(25, 'Dune', 2021, 'PG-13', 155, ' ', 'A noble family becomes embroiled in a war for control over the galaxy''s most valuable asset while its heir becomes troubled by visions of a dark future.', 8.0),
(26, 'Spiderman No way home', 2021, 'PG-13', 148, ' ',   'With Spider-Man''s identity now revealed, Peter asks Doctor Strange for help. When a spell goes wrong, dangerous foes from other worlds start to appear, forcing Peter to discover what it truly means to be Spider-Man.', 8.3),
(27, 'Nomadland', 2020, 'R', 127, ' ' , 'A woman in her sixties, after losing everything in the Great Recession, embarks on a journey through the American West, living as a van-dwelling modern-day nomad.', 7.3),
(28, 'An Cailín Ciúin', 2022, 'PG-13', 94, ' ', 'RURAL IRELAND. 1981. A quiet, neglected girl is sent away from her dysfunctional family to live with foster parents for the summer. She blossoms in their care, but in this house where there are meant to be no secrets, she discovers one.', 8),
(29, 'Arracht', 2019, 'PG-13', 90, 'Macalla Teoranta', 'Ireland, 1845. As the famine progresses, a fisherman unable to protect his family is subsumed by darkness until a helpless little girl saves him from despair.', 7.2);

INSERT INTO actor VALUES
(1,'Woody', 'Harrelson','American','Male'),
(2, 'Uma', 'Thurman', 'American','Female'),
(3, 'John', 'Travolta', 'American','Male'),
(4,'Anthony','Perkins','American','Male'),
(5,'Janet','Leigh','American','Female'),
(6,'Henry','Fonda','American','Male'),
(7, 'Kathy','Bates','American','Female'),
(8,'William','Macy', 'American','Male'),
(9,'Frances','McDormand', 'American','Female'),
(10,'Steve','Buscemi', 'American','Male'),
(11, 'Kate', 'Winslet', 'British', 'Female'),
(12, 'Michael', 'Fassbender', 'Irish', 'Male'),
(13,'Julianne','Moore', 'American', 'Female'),
(14, 'Quentin', 'Tarantino', 'American', 'Male'),
(15, 'Harvey', 'Keitel',  'American', 'Male'),
(16, 'Jason', 'Clarke ', 'Australian', 'Male'),
(17, 'Emily', 'Watson', 'British', 'Female'),
(18, 'Yalitza', 'Aparicio', 'Mexican', 'Female'),
(19, 'Marina', 'de Tavira', 'Mexican', 'Female'),
(20,'Robert','Downey Jr.', 'American', 'Male'),
(21,'Chris','Evans', 'American', 'Male'),
(22,'Samuel L.', 'Jackson', 'American', 'Male'),
(23,'Chris','Hemsworth', 'Australian', 'Male'),
(24,'Scarlett','Johansson', 'American', 'Female'),
(25,'Chadwick','Boseman', 'American', 'Male'),
(26,'Brie','Larson', 'American', 'Female'),
(27,'Tom','Holland', 'British', 'Male'),
(28,'Lupita','Nyong''o', '', 'Female'),
(29, 'Danai','Gurira',  'American', 'Female'),
(30, 'Michael B.', 'Jordan', 'American', 'Male'),
(31, 'Lady Gaga', '', 'American', 'Female'),
(32, 'Bradley', 'Cooper', 'American', 'Male'),
(33, 'Sam', 'Elliott', 'American', 'Male'),
(34, 'Leonardo', 'DiCaprio', 'American', 'Male'),
(35, 'Brad', 'Pitt', 'American', 'Male'),
(36, 'Margot', 'Robbie', 'Australian', 'Female'),
(37, 'Daniel', 'Kaluuya', 'British', 'Male'),
(38, 'Allison', 'Williams','American', 'Female'),
(39, 'Adam', 'Driver', 'American', 'Male'),
(40, 'Joaquin', 'Phoenix','American', 'Male'),
(41, 'Robert', 'De Niro', 'American', 'Male'),
(42, 'Saoirse', 'Ronan', 'Irish', 'Female'),
(43, 'Emma', 'Watson', 'English', 'Female'),
(44, 'Kang-ho', 'Song', 'South Korean', 'Male'),
(45, 'Cho', 'Yeo-jeong', 'South Korean', 'Female'),
(46, 'Sun-kyun',  'Lee', 'South Korean', 'Male'),
(47, 'Laurie', 'Metcalf', 'American', 'Female'),
(48, 'Tracy', 'Letts', 'American', 'Male'),
(49, 'Timothée', 'Chalamet', 'American', 'Male'),
(50, 'Armie', 'Hammer', 'American', 'Male'),
(51, 'Tom', 'Cruise', 'American', 'Male'),
(52, 'Jennifer', 'Connelly', 'American', 'Female'),
(53, 'Miles', 'Teller', 'American', 'Male'),
(54, 'Jude', 'Hill', 'Irish', 'Male'),
(55, 'Lewis', 'McAskie', 'Irish', 'Male'),
(56, 'Caitríona', 'Balfe', 'Irish', 'Female'),
(57, 'Leonardo', 'DiCaprio', 'American', 'Male'),
(58, 'Jennifer', 'Lawrence', 'American', 'Female'),
(59, 'Meryl', 'Streep', 'American', 'Female'),
(60, 'Rebecca', 'Ferfuson',  'Swedish', 'Female'),
(61, 'Zendaya', ' ' ,  'American', 'Female'),
(62, 'Benedict', 'Cumberbatch', 'British', 'Male'),
(63, 'Catherine', 'Clinch', 'Irish', 'Female'),
(64, 'Carrie', 'Crowley', 'Irish', 'Female'),
(65, 'Andrew', 'Bennett', 'Irish', 'Male'),
(66, 'Dónall',  'Ó Héalai', 'Irish', 'Male'),
(67, 'Saise', 'Ní Chuinn', 'Irish', 'Female'),
(68, 'Dara', 'Devaney', 'Irish', 'Male');

INSERT INTO director VALUES
(1, 'Jordan','Peele'),
(2, 'Alfred','Hitchcock'),
(3, 'Sidney','Lumet'),
(4, 'Martin', 'McDonagh'),
(5, 'Bradley', 'Cooper'),
(6, 'Joel','Coen'),
(7, 'Ethan', 'Coen'),
(8, 'Quentin', 'Tarantino'),
(9, 'Ryan', 'Coogler'),
(10, 'Anthony', 'Russo'),
(11, 'Joe', 'Russo'),
(12, 'Rob', 'Reiner'),
(13, 'Alfonso', 'Cuarón'),
(14, 'Martin', 'Scorsese'),
(15, 'Greta', 'Gerwig'),
(16, 'Todd', 'Phillips'),
(17, 'Bong', 'Joon Ho'),
(18, 'Noah', 'Baumbach'),
(19,  'Luca', 'Guadagnino'), 
(20, 'Joseph', 'Kosinski'), 
(21, 'Kenneth', 'Branagh'),
(22, 'Adam', 'McKay'),
(23, 'Denis', 'Villeneuve'),
(24, 'Jon', 'Watts'),
(25, 'Chloé', 'Zhao'),
(26,  'Colm', 'Bairéad'),
(27, 'Tom', 'Sullivan');
 
INSERT INTO genres VALUES 
(1,'Drama'),
(1,'Crime'),
(2,'Horror'), 
(2,'Mystery'),
(2,'Thriller'),
(3,'Drama'),
(4,'Thriller'),
(4,'Drama'),
(5,'Drama'),
(5,'Music'),
(5,'Romance'),
(6,'Thriller'),
(6,'Crime'),
(6,'Drama'),
(7,'Thriller'),
(7,'Crime'),
(7,'Drama'),
(8,'Sci-Fi'),
(8,'Action'),
(8,'Adventure'),
(9,'Sci-Fi'),
(9,'Action'),
(9,'Adventure'),
(10,'Sci-Fi'),
(10,'Action'),
(10,'Adventure'),
(11,'Drama'),
(12,'Drama'),
(12,'Comedy'),
(13,'Crime'),
(13,'Drama'),
(14,'Horror'),
(14,'Mystery'),
(14,'Thriller'),
(15,'Comedy'),
(15,'Drama'),
(15,'Romance'),
(16,'Comedy'),
(16,'Drama'), 
(16,'Thriller'),
(17,'Crime'),
(17,'Drama'),
(17,'Thriller'),
(18,'Drama'),
(18,'Romance'),
(19,'Biography'),
(19,'Crime'),
(19,'Drama'),
(20,'Comedy'),
(20,'Drama'),
(21,'Romance'),
(21,'Drama'),
(22,'Action'),
(22,'Adventure'),
(23,'Biography'),
(23,'Drama'),
(24,'Comedy'),
(24,'Drama'),
(24,'Sci-Fi'),
(25,'Action'),
(25,'Adventure'),
(25,'Drama'),
(25,'Sci-Fi'),
(26,'Action'),
(26,'Adventure'),
(26,'Fantasy'),
(27,'Drama'),
(28,'Drama'),
(29,'Drama');


INSERT INTO directs VALUES
(1,4),
(2,2),
(3,3),
(4,12),
(5,5),
(6,6),
(6,7),
(7,8),
(8,9),
(9,10),
(9,11),
(10,10),
(10,11),
(11,13),
(12,8),
(13,8),
(14,1),
(15,18), 
(16,17), 
(17,16), 
(18,15), 
(19,14),
(20, 15),
(21, 19), 
(22, 20),
(23, 21),
(24, 22),
(25, 23),
(26, 24),
(27, 25),
(28, 26),
(29, 27);

INSERT INTO stars VALUES
(1,9),
(1,1),
(2,4),
(2,5),
(3,6),
(4,7),
(5,31),
(5,32), 
(5,33),
(6,8),
(6,9),
(6,10),
(7,10),
(7,14),
(7,15),
(8,25),
(8,28),
(8,29),
(8,30),
(9,20),
(9,21),
(9,22),
(9,23),
(9,24),
(9,25),
(9,26),
(9,27),
(10,20),
(10,21),
(10,23),
(10,24),
(10,25),
(10,27),
(11,18),
(11,19),
(12,34),
(12,35),
(12,36),
(13,2),
(13,3),
(13,22),
(14,37),
(14,38),
(15,24),
(15,39),
(16,44),
(16,45),
(16,46),
(17,40),
(17,41),
(18,42),
(18,43),
(19,41),
(20, 42),
(20, 47),
(20, 48),
(20, 49),
(21, 49),
(21, 50),
(22, 51),
(22, 52),
(22, 53),
(23, 54),
(23, 55),
(23, 56),
(24, 49),
(24, 57),
(24, 58),
(24, 59),
(25, 49),
(25, 60),
(25, 61),
(26, 27),
(26, 61),
(26, 62),
(27, 9),
(28, 63),
(28, 64),
(28, 65),
(29, 66),
(29, 67),
(29, 68); 